<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Info Collector</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .info { margin: 10px 0; }
        .info-label { font-weight: bold; }
    </style>
</head>
<body>
    <h1>Device Information Collector</h1>
    <div id="info"></div>

    <script>
        // Helper function to get the browser name and version
        function getBrowserInfo() {
            const ua = navigator.userAgent;
            let browserName = "Unknown";
            let fullVersion = "Unknown";
            let temp;

            if ((temp = ua.match(/(opera|chrome|safari|firefox|msie|trident(?:\/?))\/?\s*(\d+)/i)) != null) {
                if (/trident/i.test(temp[1])) {
                    browserName = "IE";
                    fullVersion = /\brv[ :]+(\d+)/g.exec(ua) || [];
                } else {
                    browserName = temp[1];
                    fullVersion = temp[2];
                }
            } else if ((temp = ua.match(/version\/(\d+)/i)) != null) {
                fullVersion = temp[1];
            }
            return `${browserName} ${fullVersion}`;
        }

        // Display information on the page
        function displayInfo(data) {
            const infoDiv = document.getElementById("info");
            const deviceInfo = `
                <div class="info"><span class="info-label">Operating System:</span> ${navigator.platform}</div>
                <div class="info"><span class="info-label">Browser:</span> ${getBrowserInfo()}</div>
                <div class="info"><span class="info-label">Screen Resolution:</span> ${window.screen.width}x${window.screen.height}</div>
                <div class="info"><span class="info-label">IP Address:</span> ${data.ip}</div>
                <div class="info"><span class="info-label">Location:</span> ${data.city}, ${data.region}, ${data.country}</div>
            `;
            infoDiv.innerHTML = deviceInfo;
        }

        // Fetch IP address and location data
        async function fetchIpData() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                displayInfo(data);
            } catch (error) {
                console.error('Failed to fetch IP data:', error);
                displayInfo({ ip: "Unavailable", city: "Unknown", region: "Unknown", country: "Unknown" });
            }
        }

        // Run the fetch and display functions
        fetchIpData();
    </script>
</body>
</html>
